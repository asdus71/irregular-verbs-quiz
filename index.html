<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>UnregelmÃ¤ÃŸige Verben Quiz</title>
<style>
  body {font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; background: #0f1724; color: #e6eef8; display:flex; flex-direction:column; align-items:center; padding:24px;}
  .card{background:#0b1220;padding:20px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);width:520px;max-width:95%;}
  h1{margin:0 0 8px 0;font-size:20px;text-align:center}
  .prompt{font-size:18px;font-weight:700;text-align:center;margin:14px 0}
  .de-word{font-size:26px;text-align:center;color:#cbd5e1;margin-bottom:8px}
  .input-row{display:flex;gap:8px;justify-content:center}
  input{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;min-width:220px}
  button, select{background:#7dd3fc;border:none;padding:8px 12px;border-radius:8px;font-weight:600;cursor:pointer;color:#000}
  .feedback{min-height:28px;text-align:center;margin-top:10px;font-weight:700}
  .correct{color:#10b981}
  .wrong{color:#ef4444}
  .right-answer{color:#10b981;font-weight:800}
  .stats{color:#94a3b8;margin-top:10px;text-align:center}
  .summary-card{background:#16203a;border-radius:12px;padding:18px;margin-top:20px;box-shadow:0 6px 18px rgba(2,6,23,0.6);width:520px;max-width:95%;text-align:center}
  .controls{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:12px}
  label.small{color:#94a3b8;font-size:13px}
  table{width:100%;border-collapse:collapse;margin-top:16px;color:#e6eef8;font-size:14px}
  th,td{border-bottom:1px solid rgba(255,255,255,0.1);padding:6px 8px;text-align:left}
  th{color:#94a3b8;font-weight:600}
  .wrong-cell{color:#ef4444;font-weight:600}
  .user-answer{color:#94a3b8;font-style:italic}
  .round-summary{margin-bottom:24px;border-top:1px solid rgba(255,255,255,0.1);padding-top:16px;}
</style>
</head>
<body>
  <div class="card" id="quizCard">
    <h1>UnregelmÃ¤ÃŸige Verben â€” Deutsch â†’ Englisch</h1>
    <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:8px;margin-top:8px">
      <label class="small">Verben pro Runde:
        <select id="verbCount">
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
      </label>
      <label class="small">Abfrage-Formen:
        <select id="modeSelect">
          <option value="past">Infinitiv â†’ Simple Past</option>
          <option value="part">Infinitiv â†’ Past Participle</option>
          <option value="both">Infinitiv â†’ Simple Past â†’ Past Participle</option>
        </select>
      </label>
      <button id="startBtn">Start</button>
    </div>

    <div style="margin-top:16px">
      <div class="de-word" id="deWord">â€”</div>
      <div class="prompt" id="promptText">Bitte das englische Infinitiv eingeben</div>
      <div class="input-row">
        <input id="answerInput" type="text" autocomplete="off" disabled />
        <button id="okBtn" disabled>OK</button>
      </div>
      <div class="feedback" id="feedback"></div>
      <div class="stats" id="stats">Richtig: <span id="correctCount">0</span> Â· Falsch: <span id="wrongCount">0</span> Â· Beantwortet: <span id="answeredCount">0</span></div>
    </div>
  </div>

  <div class="summary-card" id="summaryCard" style="display:none">
    <h2>Auswertung</h2>
  </div>

<script>
// Daten: de = Deutsch, inf = Infinitiv, past = Simple Past, part = Past Participle
const verbs = [
  {de: "sein", inf: "be", past: "was/were", part: "been"},
  {de: "schlagen, besiegen", inf: "beat", past: "beat", part: "beaten"},
  {de: "werden", inf: "become", past: "became", part: "become"},
  {de: "beginnen, anfangen", inf: "begin", past: "began", part: "begun"},
  {de: "wetten", inf: "bet", past: "bet", part: "bet"},
  {de: "beiÃŸen", inf: "bite", past: "bit", part: "bitten"},
  {de: "blasen, pusten", inf: "blow", past: "blew", part: "blown"},
  {de: "(zer)brechen, kaputt machen", inf: "break", past: "broke", part: "broken"},
  {de: "(mit)bringen", inf: "bring", past: "brought", part: "brought"},
  {de: "bauen", inf: "build", past: "built", part: "built"},
  {de: "verbrennen", inf: "burn", past: "burnt/burned", part: "burnt/burned"},
  {de: "kaufen", inf: "buy", past: "bought", part: "bought"},
  {de: "fangen", inf: "catch", past: "caught", part: "caught"},
  {de: "(aus)wÃ¤hlen", inf: "choose", past: "chose", part: "chosen"},
  {de: "kommen", inf: "come", past: "came", part: "come"},
  {de: "kosten", inf: "cost", past: "cost", part: "cost"},
  {de: "schneiden", inf: "cut", past: "cut", part: "cut"},
  {de: "sich befassen (mit), umgehen (mit)", inf: "deal", past: "dealt", part: "dealt"},
  {de: "machen, tun", inf: "do", past: "did", part: "done"},
  {de: "zeichnen, ziehen", inf: "draw", past: "drew", part: "drawn"},
  {de: "trÃ¤umen", inf: "dream", past: "dreamt", part: "dreamt"},
  {de: "trinken", inf: "drink", past: "drank", part: "drunk"},
  {de: "fahren", inf: "drive", past: "drove", part: "driven"},
  {de: "essen", inf: "eat", past: "ate", part: "eaten"},
  {de: "(hin)fallen", inf: "fall", past: "fell", part: "fallen"},
  {de: "fÃ¼ttern, ernÃ¤hren", inf: "feed", past: "fed", part: "fed"},
  {de: "fÃ¼hlen", inf: "feel", past: "felt", part: "felt"},
  {de: "kÃ¤mpfen, (sich) streiten", inf: "fight", past: "fought", part: "fought"},
  {de: "finden", inf: "find", past: "found", part: "found"},
  {de: "passen", inf: "fit", past: "fit/fitted", part: "fit/fitted"},
  {de: "fliegen", inf: "fly", past: "flew", part: "flown"},
  {de: "vergessen", inf: "forget", past: "forgot", part: "forgotten"},
  {de: "vergeben, verzeihen", inf: "forgive", past: "forgave", part: "forgiven"},
  {de: "gefrieren, erstarren", inf: "freeze", past: "froze", part: "frozen"},
  {de: "bekommen, erhalten", inf: "get", past: "got", part: "got"},
  {de: "geben", inf: "give", past: "gave", part: "given"},
  {de: "gehen, fahren", inf: "go", past: "went", part: "gone"},
  {de: "wachsen, anbauen, zÃ¼chten", inf: "grow", past: "grew", part: "grown"},
  {de: "hÃ¤ngen", inf: "hang", past: "hung", part: "hung"},
  {de: "haben", inf: "have", past: "had", part: "had"},
  {de: "hÃ¶ren", inf: "hear", past: "heard", part: "heard"},
  {de: "(sich) verstecken", inf: "hide", past: "hid", part: "hidden"},
  {de: "schlagen, treffen", inf: "hit", past: "hit", part: "hit"},
  {de: "(fest)halten", inf: "hold", past: "held", part: "held"},
  {de: "verletzen, sich weh tun", inf: "hurt", past: "hurt", part: "hurt"},
  {de: "aufbewahren, behalten", inf: "keep", past: "kept", part: "kept"},
  {de: "kennen, wissen", inf: "know", past: "knew", part: "known"},
  {de: "(an)fÃ¼hren", inf: "lead", past: "led", part: "led"},
  {de: "lernen", inf: "learn", past: "learnt/learned", part: "learnt/learned"},
  {de: "verlassen", inf: "leave", past: "left", part: "left"},
  {de: "(ver)leihen", inf: "lend", past: "lent", part: "lent"},
  {de: "lassen", inf: "let", past: "let", part: "let"},
  {de: "liegen", inf: "lie", past: "lay", part: "lain"},
  {de: "verlieren", inf: "lose", past: "lost", part: "lost"},
  {de: "machen, tun", inf: "make", past: "made", part: "made"},
  {de: "bedeuten, meinen", inf: "mean", past: "meant", part: "meant"},
  {de: "treffen", inf: "meet", past: "met", part: "met"},
  {de: "(be)zahlen", inf: "pay", past: "paid", part: "paid"},
  {de: "legen, setzen; stellen", inf: "put", past: "put", part: "put"},
  {de: "lesen", inf: "read", past: "read", part: "read"},
  {de: "fahren, reiten", inf: "ride", past: "rode", part: "ridden"},
  {de: "klingeln, lÃ¤uten", inf: "ring", past: "rang", part: "rung"},
  {de: "steigen, sich erheben", inf: "rise", past: "rose", part: "risen"},
  {de: "laufen, rennen", inf: "run", past: "ran", part: "run"},
  {de: "sagen", inf: "say", past: "said", part: "said"},
  {de: "sehen", inf: "see", past: "saw", part: "seen"},
  {de: "verkaufen", inf: "sell", past: "sold", part: "sold"},
  {de: "senden, verschicken", inf: "send", past: "sent", part: "sent"},
  {de: "erbauen, errichten", inf: "set up", past: "set up", part: "set up"},
  {de: "scheinen, glÃ¤nzen", inf: "shine", past: "shone", part: "shone"},
  {de: "schieÃŸen", inf: "shoot", past: "shot", part: "shot"},
  {de: "zeigen", inf: "show", past: "showed", part: "shown"},
  {de: "singen", inf: "sing", past: "sang", part: "sung"},
  {de: "untergehen, sinken", inf: "sink", past: "sank", part: "sunk"},
  {de: "sitzen", inf: "sit", past: "sat", part: "sat"},
  {de: "schlafen", inf: "sleep", past: "slept", part: "slept"},
  {de: "riechen, duften", inf: "smell", past: "smelt/smelled", part: "smelt/smelled"},
  {de: "sprechen", inf: "speak", past: "spoke", part: "spoken"},
  {de: "buchstabieren", inf: "spell", past: "spelt/spelled", part: "spelt/spelled"},
  {de: "ausgeben, verbringen", inf: "spend", past: "spent", part: "spent"},
  {de: "verschÃ¼tten, auslaufen", inf: "spill", past: "spilt/spilled", part: "spilt/spilled"},
  {de: "stehen", inf: "stand", past: "stood", part: "stood"},
  {de: "stehlen", inf: "steal", past: "stole", part: "stolen"},
  {de: "stechen", inf: "sting", past: "stung", part: "stung"},
  {de: "schwimmen", inf: "swim", past: "swam", part: "swum"},
  {de: "nehmen", inf: "take", past: "took", part: "taken"},
  {de: "unterrichten, lehren, beibringen", inf: "teach", past: "taught", part: "taught"},
  {de: "erzÃ¤hlen", inf: "tell", past: "told", part: "told"},
  {de: "(nach)denken, glauben", inf: "think", past: "thought", part: "thought"},
  {de: "werfen", inf: "throw", past: "threw", part: "thrown"},
  {de: "verstehen", inf: "understand", past: "understood", part: "understood"},
  {de: "(auf)wachen, (auf)wecken", inf: "wake up", past: "woke up", part: "woken up"},
  {de: "anhaben, tragen", inf: "wear", past: "wore", part: "worn"},
  {de: "gewinnen, siegen", inf: "win", past: "won", part: "won"},
  {de: "schreiben", inf: "write", past: "wrote", part: "written"}
];

// === UI-Elemente ===
let remainingVerbs = [...verbs];
const deWordEl = document.getElementById('deWord');
const promptTextEl = document.getElementById('promptText');
const answerInput = document.getElementById('answerInput');
const okBtn = document.getElementById('okBtn');
const startBtn = document.getElementById('startBtn');
const verbCountSelect = document.getElementById('verbCount');
const modeSelect = document.getElementById('modeSelect');
const feedbackEl = document.getElementById('feedback');
const correctCountEl = document.getElementById('correctCount');
const wrongCountEl = document.getElementById('wrongCount');
const answeredCountEl = document.getElementById('answeredCount');
const summaryCard = document.getElementById('summaryCard');

let quiz = [], currentIndex = 0, step = 0, correct = 0, wrong = 0, answered = 0, mode = 'past', results = [], roundNumber = 1;

// === Hilfsfunktionen ===
function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]]}return arr;}
function normalize(s){return (s||'').trim().toLowerCase();}

// === Quiz starten ===
function startQuiz(customVerbs){
Â  const base = customVerbs || remainingVerbs;
Â  const count = Math.min(base.length, parseInt(verbCountSelect.value,10));
Â  mode = modeSelect.value;
Â  quiz = shuffle(base.slice()).slice(0,count);
Â  currentIndex=0; step=0; correct=0; wrong=0; answered=0; results=[];
Â  correctCountEl.textContent=wrongCountEl.textContent=answeredCountEl.textContent='0';
Â  feedbackEl.textContent='';
Â  summaryCard.style.display='none';
Â  answerInput.disabled=false; okBtn.disabled=false;
Â  renderCurrent();
}

// === Aktuelles Verb anzeigen ===
function renderCurrent(){
Â  const v=quiz[currentIndex];
Â  if(step===0){deWordEl.textContent=v.de;promptTextEl.textContent='Bitte das englische Infinitiv eingeben';}
Â  else if(step===1){deWordEl.textContent=v.inf+' â€” '+v.de;promptTextEl.textContent=(mode==='part')?'Gib das Past Participle an':'Gib das Simple Past an';}
Â  else if(step===2){deWordEl.textContent=v.inf+' â€” '+v.de;promptTextEl.textContent='Gib das Past Participle an';}
Â  answerInput.value='';answerInput.focus();
Â  document.getElementById('progress')?.remove();
Â  const progress=document.createElement('div');
Â  progress.id='progress';
Â  progress.style.textAlign='center';
Â  progress.style.color='#94a3b8';
Â  progress.style.marginTop='8px';
Â  progress.textContent=`${currentIndex+1} / ${quiz.length} (Schritt ${step+1})`;
Â  document.querySelector('.card').appendChild(progress);
}

// === Antwort prÃ¼fen ===
function checkAnswer(){
Â  const v=quiz[currentIndex];
Â  const user=normalize(answerInput.value);
Â  let correctAnswers=[], field='';
Â  if(step===0){correctAnswers=[normalize(v.inf)];field='inf';}
Â  else if(step===1){
Â  Â  // NEU: Erzwinge exakte Eingabe (inkl. SchrÃ¤gstrich, wenn vorhanden)
Â  Â  if(mode==='past'){correctAnswers=[normalize(v.past)];field='past';}
Â  Â  else if(mode==='part'){correctAnswers=[normalize(v.part)];field='part';}
Â  Â  else if(mode==='both'){correctAnswers=[normalize(v.past)];field='past';}
Â  } else if(step===2){correctAnswers=[normalize(v.part)];field='part';}

Â  let isCorrect=correctAnswers.includes(user);
Â  
Â  // Alter Spezialfall fÃ¼r "be" entfernt, da jetzt durch die generische Logik abgedeckt.
Â  // Die korrekte Eingabe fÃ¼r "be" ist nun zwingend "was/were" (oder "Was/Were" etc. durch normalize).

Â  answered++;answeredCountEl.textContent=answered;
Â  let result=results.find(r=>r.de===v.de);
Â  if(!result){result={...v,wrongInf:false,wrongPast:false,wrongPart:false,userInf:'',userPast:'',userPart:''};results.push(result);}
Â  if(isCorrect){correct++;correctCountEl.textContent=correct;feedbackEl.innerHTML='<span class="correct">Richtig âœ“</span>';}
Â  else{
Â  Â  wrong++;wrongCountEl.textContent=wrong;
Â  Â  // NEU: Zeige die korrekte Antwort direkt aus dem Verb-Objekt an (inkl. SchrÃ¤gstrich).
Â  Â  feedbackEl.innerHTML=`<span class="wrong">Falsch â€” </span><span class="right-answer">${v[field]}</span>`;
Â  Â  if(field==='inf'){result.wrongInf=true;result.userInf=answerInput.value;}
Â  Â  if(field==='past'){result.wrongPast=true;result.userPast=answerInput.value;}
Â  Â  if(field==='part'){result.wrongPart=true;result.userPart=answerInput.value;}
Â  }
Â  okBtn.disabled=true;answerInput.disabled=true;
Â  setTimeout(()=>{
Â  Â  if(step===0){step=1;}
Â  Â  else if(step===1){if(mode==='both')step=2;else{step=0;currentIndex++;}}
Â  Â  else if(step===2){step=0;currentIndex++;}
Â  Â  okBtn.disabled=false;answerInput.disabled=false;feedbackEl.textContent='';
Â  Â  if(currentIndex<quiz.length)renderCurrent();else showSummary();
Â  },1000);
}

// === Zusammenfassung anzeigen ===
function showSummary(){
Â  const total=answered||1;
Â  const percent=Math.round((correct/total)*100);
Â  let comment='';
Â  if(percent>=90)comment='ğŸŒŸ Fantastisch! Du beherrschst diese Verben richtig gut!';
Â  else if(percent>=70)comment='ğŸ’ª Sehr gut! Nur ein paar kleine Fehler.';
Â  else if(percent>=50)comment='ğŸ™‚ Gut gemacht! Ein bisschen Ãœbung noch.';
Â  else comment='ğŸ” Nicht schlimm â€“ weiter Ã¼ben, du schaffst das!';

Â  const roundSection=document.createElement('div');
Â  roundSection.className="round-summary";
Â  roundSection.innerHTML=`
Â  Â  <h3>Ergebnis der ${roundNumber}. Runde</h3>
Â  Â  <p>${correct} / ${total} korrekt (${percent}%)</p>
Â  Â  <p>${comment}</p>
Â  `;

Â  let tableHTML=`<table><thead><tr><th>de</th><th>inf</th><th>past</th><th>part</th><th>deine Antwort(en)</th></tr></thead><tbody>`;
Â  for(const v of quiz){
Â  Â  const r=results.find(x=>x.de===v.de)||{};
Â  Â  tableHTML+=`<tr>
Â  Â  Â  <td>${v.de}</td>
Â  Â  Â  <td class="${r.wrongInf?'wrong-cell':''}">${v.inf}</td>
Â  Â  Â  <td class="${r.wrongPast?'wrong-cell':''}">${v.past}</td>
Â  Â  Â  <td class="${r.wrongPart?'wrong-cell':''}">${v.part}</td>
Â  Â  Â  <td class="user-answer">${[r.userInf,r.userPast,r.userPart].filter(x=>x).length>0?[r.userInf,r.userPast,r.userPart].filter(x=>x).join(', '):'â€”'}</td>
Â  Â  </tr>`;
Â  }
Â  tableHTML+='</tbody></table>';
Â  roundSection.innerHTML+=tableHTML;

Â  const stillWrong=results.filter(r=>r.wrongInf||r.wrongPast||r.wrongPart);
Â  if(stillWrong.length>0){remainingVerbs=stillWrong.map(r=>({de:r.de,inf:r.inf,past:r.past,part:r.part}));}
Â  else{remainingVerbs=[...verbs];roundSection.innerHTML+="<p>ğŸ‰ Du hast jetzt alle Verben einmal richtig beantwortet!</p>";}

Â  summaryCard.style.display='block';
Â  // neue Runde oben einfÃ¼gen
Â  summaryCard.insertBefore(roundSection, summaryCard.children[1]);

Â  // Buttons nur einmalig unten anzeigen
Â  if(!document.getElementById("summaryButtons")){
Â  Â  const btnContainer=document.createElement("div");
Â  Â  btnContainer.id="summaryButtons";
Â  Â  btnContainer.style.marginTop="12px";
Â  Â  btnContainer.innerHTML=`
Â  Â  Â  <button id="restartBtn2">Neue Runde starten</button>
Â  Â  Â  <button id="repeatBtn2" style="display:${stillWrong.length>0?'inline-block':'none'};margin-left:8px;">Falsche wiederholen</button>
Â  Â  `;
Â  Â  summaryCard.appendChild(btnContainer);
    document.getElementById("restartBtn2").addEventListener("click",()=>{remainingVerbs=[...verbs];summaryCard.style.display='none';startQuiz();});
Â  Â  document.getElementById("repeatBtn2").addEventListener("click",()=>{summaryCard.style.display='none';startQuiz(remainingVerbs);});
Â  }else{
Â  Â  document.getElementById("repeatBtn2").style.display=stillWrong.length>0?'inline-block':'none';
Â  }

Â  deWordEl.textContent='â€”';promptTextEl.textContent='';answerInput.value='';answerInput.disabled=true;okBtn.disabled=true;
Â  roundNumber++;
}

// === Event-Listener ===
okBtn.addEventListener('click',checkAnswer);
answerInput.addEventListener('keydown',e=>{if(e.key==='Enter')checkAnswer();});
startBtn.addEventListener('click',()=>startQuiz());
</script>
</body>
</html>
