<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Irregular Verbs â€” Simple Past Ãœbung</title>
  <style>
    body{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; margin:0; background:#0f1724; color:#e6eef8; display:flex; flex-direction:column; align-items:center; min-height:100vh; padding:20px;}
    .card{background:#0b1220;border-radius:12px;padding:24px;box-shadow:0 6px 18px rgba(2,6,23,0.6);width:420px;}
    h1{margin-top:0;font-size:22px;text-align:center;}
    .inf{font-size:28px;font-weight:700;text-align:center;margin:12px 0;}
    .progress{text-align:center;color:#94a3b8;margin-bottom:16px;}
    .input-row{display:flex;gap:8px;margin-bottom:8px;}
    input{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:transparent;color:inherit;}
    button,select{background:#7dd3fc;border:none;padding:8px 12px;border-radius:8px;font-weight:600;cursor:pointer;color:#000;}
    .feedback{text-align:center;margin-top:8px;min-height:22px;font-weight:600;}
    .correct{color:#10b981;}
    .wrong{color:#ef4444;}
    .stats{text-align:center;margin-top:16px;color:#94a3b8;font-size:14px;}
    .setup{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:12px;}
    .summary-card{background:#16203a;border-radius:12px;padding:20px;margin-top:24px;box-shadow:0 6px 18px rgba(2,6,23,0.6);width:420px;text-align:center;}
    .summary-card h2{margin:0 0 12px 0;font-size:20px;}
    .summary-card p{margin:6px 0;}
  </style>
</head>
<body>
  <div class="card" id="quizCard">
    <h1>Irregular Verbs â€” Ãœbung</h1>
    <div class="inf" id="infinitive">â€”</div>
    <div class="progress" id="progress">0 / 0</div>
    <div class="input-row">
      <input id="answerInput" type="text" placeholder="Simple Past eingeben" autocomplete="off" disabled>
      <button id="submitBtn" disabled>OK</button>
    </div>
    <div class="feedback" id="feedback"></div>
    <div style="display:flex;justify-content:center;gap:8px;margin-top:8px;">
      <button id="showAnswer" disabled>Antwort zeigen</button>
      <button id="nextBtn" disabled>NÃ¤chstes</button>
    </div>
    <div class="stats">
      Richtige: <span id="correctCount">0</span> Â· Falsche: <span id="wrongCount">0</span> Â· Beantwortet: <span id="answeredCount">0</span>
    </div>
    <div class="setup">
      <label for="verbCount">Verben pro Runde:</label>
      <select id="verbCount">
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
      <button id="startBtn">Start</button>
    </div>
  </div>

  <div class="summary-card" id="summaryCard" style="display:none;">
    <h2>Auswertung</h2>
    <p id="summaryResult"></p>
    <p id="summaryComment"></p>
    <button id="restartBtn">Neue Runde starten</button>
  </div>

  <script>
    const verbs = [
      ['be','was / were'],['become','became'],['begin','began'],['bite','bit'],['blow','blew'],
      ['break','broke'],['bring','brought'],['build','built'],['buy','bought'],['catch','caught'],
      ['choose','chose'],['come','came'],['cost','cost'],['cut','cut'],['deal','dealt'],['dig','dug'],
      ['do','did'],['draw','drew'],['drink','drank'],['drive','drove'],['eat','ate'],['fall','fell'],
      ['feed','fed'],['feel','felt'],['fight','fought'],['find','found'],['fly','flew'],['forget','forgot'],
      ['forgive','forgave'],['freeze','froze'],['get','got'],['give','gave'],['go','went'],['grow','grew'],
      ['hang','hung'],['have','had'],['hear','heard'],['hide','hid'],['hit','hit'],['hold','held'],['hurt','hurt'],
      ['keep','kept'],['know','knew'],['learn','learnt / learned'],['leave','left'],['lend','lent'],['let','let'],
      ['lie (liegen)','lay'],['lose','lost'],['make','made'],['mean','meant'],['meet','met'],['pay','paid'],
      ['put','put'],['read','read'],['ride','rode'],['ring','rang'],['rise','rose'],['run','ran'],['say','said'],
      ['see','saw'],['sell','sold'],['send','sent'],['set','set'],['shake','shook'],['shine','shone'],
      ['shoot','shot'],['show','showed'],['shut','shut'],['sing','sang'],['sit','sat'],['sleep','slept'],
      ['speak','spoke'],['spend','spent'],['stand','stood'],['steal','stole'],['swim','swam'],['take','took'],
      ['teach','taught'],['tell','told'],['think','thought'],['throw','threw'],['understand','understood'],
      ['wake','woke'],['wear','wore'],['win','won'],['write','wrote'],['bet','bet'],['bleed','bled'],
      ['dream','dreamt / dreamed'],['light','lit / lighted'],['smell','smelt / smelled'],['spell','spelt / spelled'],
      ['spill','spilled / spilt'],['cling','clung']
    ];

    const infinitiveEl=document.getElementById('infinitive');
    const progressEl=document.getElementById('progress');
    const answerInput=document.getElementById('answerInput');
    const submitBtn=document.getElementById('submitBtn');
    const showAnswerBtn=document.getElementById('showAnswer');
    const nextBtn=document.getElementById('nextBtn');
    const feedback=document.getElementById('feedback');
    const correctCountEl=document.getElementById('correctCount');
    const wrongCountEl=document.getElementById('wrongCount');
    const answeredCountEl=document.getElementById('answeredCount');
    const startBtn=document.getElementById('startBtn');
    const verbCountSelect=document.getElementById('verbCount');
    const summaryCard=document.getElementById('summaryCard');
    const summaryResult=document.getElementById('summaryResult');
    const summaryComment=document.getElementById('summaryComment');
    const restartBtn=document.getElementById('restartBtn');

    let quiz=[]; let current=0; let correct=0; let wrong=0; let answered=0; let waiting=false;

    function shuffle(arr){for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]]}return arr;}

    function startQuiz(){
      const count=parseInt(verbCountSelect.value);
      quiz=shuffle([...verbs]).slice(0,count);
      current=0; correct=0; wrong=0; answered=0; waiting=false;
      correctCountEl.textContent=0; wrongCountEl.textContent=0; answeredCountEl.textContent=0;
      answerInput.disabled=false; submitBtn.disabled=false; showAnswerBtn.disabled=false; nextBtn.disabled=true; feedback.textContent='';
      startBtn.disabled=true; verbCountSelect.disabled=true; summaryCard.style.display='none';
      renderCurrent();
    }

    function renderCurrent(){
      const [inf]=quiz[current];
      infinitiveEl.textContent=inf;
      progressEl.textContent=`${current+1} / ${quiz.length}`;
      feedback.textContent=''; answerInput.value=''; answerInput.focus();
    }

    function normalize(s){return s.trim().toLowerCase();}

    function checkAnswer(){
      if(waiting) return;
      const ans=normalize(answerInput.value);
      const [,past]=quiz[current];
      const variants=past.split('/').map(v=>normalize(v));
      const ok=variants.includes(ans);
      answered++; answeredCountEl.textContent=answered;
      if(ok){
        correct++; correctCountEl.textContent=correct; feedback.innerHTML='<span class="correct">Richtig âœ“</span>';
      } else {
        wrong++; wrongCountEl.textContent=wrong; feedback.innerHTML='<span class="wrong">Falsch â€” '+past+'</span>';
      }
      waiting=true; submitBtn.disabled=true; nextBtn.disabled=false; showAnswerBtn.disabled=true; answerInput.disabled=true;
      if(current===quiz.length-1) nextBtn.textContent='Auswertung anzeigen';
    }

    function showAnswer(){
      const [,past]=quiz[current];
      feedback.innerHTML='<span class="wrong">Korrekt: '+past+'</span>';
      wrong++; wrongCountEl.textContent=wrong; answered++; answeredCountEl.textContent=answered;
      waiting=true; submitBtn.disabled=true; nextBtn.disabled=false; showAnswerBtn.disabled=true; answerInput.disabled=true;
      if(current===quiz.length-1) nextBtn.textContent='Auswertung anzeigen';
    }

    function next(){
      if(!waiting) return;
      if(current<quiz.length-1){
        current++; waiting=false; answerInput.disabled=false; submitBtn.disabled=false; showAnswerBtn.disabled=false; nextBtn.disabled=true; renderCurrent();
      } else {
        showSummary();
      }
    }

    function showSummary(){
      const total=quiz.length;
      const percent=Math.round((correct/total)*100);
      let comment="";
      if(percent>=90){comment="ðŸŒŸ Fantastisch! Du beherrschst diese Verben richtig gut!";}
      else if(percent>=70){comment="ðŸ’ª Sehr gut! Nur ein paar kleine Fehler.";}
      else if(percent>=50){comment="ðŸ™‚ Gut gemacht! Ein bisschen Ãœbung noch.";}
      else{comment="ðŸ” Nicht schlimm â€“ weiter Ã¼ben, du schaffst das!";}

      summaryResult.textContent=`${correct}/${total} korrekt (${percent}%)`;
      summaryComment.textContent=comment;
      summaryCard.style.display='block';
      startBtn.disabled=false; verbCountSelect.disabled=false; answerInput.disabled=true; submitBtn.disabled=true; showAnswerBtn.disabled=true; nextBtn.disabled=true; infinitiveEl.textContent='â€”'; progressEl.textContent='0 / 0';
    }

    restartBtn.addEventListener('click',()=>{
      summaryCard.style.display='none';
      startQuiz();
    });

    submitBtn.addEventListener('click',checkAnswer);
    answerInput.addEventListener('keydown',e=>{if(e.key==='Enter')checkAnswer();});
    showAnswerBtn.addEventListener('click',showAnswer);
    nextBtn.addEventListener('click',next);
    startBtn.addEventListener('click',startQuiz);
  </script>
</body>
</html>
